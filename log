2013-01-15

ca 2 hrs

Made git repo, installed msysgit
Made first commit
	README.txt
Connected project to studentserver, for testing enviroment
The chatserver will be run on jane.graveraven.net
Created index.php, mostly empty right now

Todo:
	look into what other chats can do and make list of things to add
	take old js-code and see if it can be cleaned up
	insert comments into old js-code
	change readme to .md (learn a bit markdown)

Ideas so far:
	Proper userlist, that updates on connect/disconnect
		- send userlist when that happens, make client update contents
		able to double-click to start private msg
	Channels
		/join, /part, /leave
		- channellist
		- connect users and channels
		- when command is sent, also send which window/channel was active
	User-levels
		op, voice, ownership
		autoop, autovoice
		- files with userlevels
		- files with users connected to channels
	Make server notifications more clear, split into categories maybe?
		Make them appear in either status or active window?
		- create different message types OR add propery to JSON: toWindow
	Channels and private messages require different windows
		How to handle this?
	Auto-link url's in chat
	Add colors for different kind of messags/notifications
		Maybe add color choices for each user?
	Add chat history?
		Log-files?
	Create max-buffer for windows

--------------------------------------------------------------------------------
2013-01-16

ca 4 hrs

Sketching on userlist and channellist
For now: focus on making the server work when it's online
	no file-backup stuff just yet - look into that later
Made list of commands

Ideas:
	/nick command for registering and stuff?
		how does server remember?
	add ban/kick to channels - op only
	/ignore
	/whois ?
	/list - list all channels
	/names #channel - list names in channel
		with argument - arg = channel
		without argument - for active channel
	/topic - channel topic, op only
		with argument - set topic
		without argument - view topic

Should channels know which users have special levels or should it be saved with
	the user? Probably channel. Only keep track of op/voice
Keep track of channel<->user in both channel and user?
Max msg lenght?
max nick lenght?
Where do we add the time? When message came from client, or when it's processes and about to send?
	Send seems easier

Commands:
	/help [command]
		no arg: list commands
	/msg nick text
	/me [text]
	/nick nick
	/ignore [nick]
		no arg: list ignores
	/unignore nick
	/whois nick
	/slap nick
	/list
	/names [channel]
		no arg: list users in active channel
	/join channel
	/part [text]
	/leave
	/topic [text]
		no arg: view topic
	/op nick [nick+]
	/voice nick [nick+]
	/kick nick [text]
	/ban nick [text]
	/quit [text]

Functions probably needed:
	Check that nick is online
	Check that string is not empty
	Send error message for commands

--------------------------------------------------------------------------------
2013-01-18

ca 6 hrs

Thought about how to save client config. Maybe SQLite is the most portable option?
How to send channel with messages? Add it to the start of the string won't work..
Finished /msg, /help, /me, /nick and /ignore
Make json of it on clientside aswell? might work
Send : {channel, message}
Have to figure out how to display colors depending on msg
Add hilighting!
Make sure what comes in to the functions is correctly formatted
Make sure users are actually ignored

--------------------------------------------------------------------------------
2013-01-23

ca 7 hrs

copied over old files for testing
put the server online, started testing commands
fixed msg, help

should fix join so I can start testing the channels
have to create some sort of window management

made most of the UI
creates windows, saves history, changes windows
updates channellisting
--------------------------------------------------------------------------------
2013-01-29

todo: when joining a channel:
		add it if it's new
		send info back to user, topic and stuff
		send userlist back to user
			show names
	clientside needs to take care of stuff it gets

on output check if it's the active log
	else add it to history

TODO next:
	make sending userlist work
--------------------------------------------------------------------------------
2013-01-30

ca 6 hrs

what happens when user is already in the channel they try to join?
check if user is banned?
don't add the same user!
broadcast userlist when new user enters or leaves

make sure no 2 users can have same name


DONE:
	userlist is changed and displayed on join and window change
	checking that username is not used more than once
		gives random nr added to end
	checks that user is not already in channel
	removes user from channel listings when closing connection
	sends that user has closed connection and new user listings
	now handles private windows on client side


TODO: make sure client opens window when private received
	figure out how to handles ignores
	fix /nick (no prev name, no change in user lists at client)

--------------------------------------------------------------------------------
2013-02-04

ca  hrs

tested private message
	writing in window works
	windows work
	writing to yourself works (double output)
tested join channel
channel:
	hilight works
	writing works
	/me works in channel
!->	/me in status crashes server FIXED

tested nick:
	output * is known as janey
!->		ie: no prev name output	FIXED
!->	no change in userlist at client	FIXED
		but seems to be working on server end
	special chars are either not shown or as &amp; and so on
	
TODO Client:
	Closing windows
		when channel: leave
	functions of typical things to do
		toggle chatwindow
		getting & sending msg
	combine removehilight/addhilight
	on double click in userlist - open a private window
		able to send msg from there
	don't write PM time in chat
	connect via the enter key
	

TODO Server:
	fix /nick command
	finish /help
	fix /me when written in status
	start on other commands
		unignore
		whois
		slap
	4	list
	3	names
	1	part
	2	leave
	5	topic
		
		op
		voice
		kick
		ban
		(quit)
	make function to remove user from channellist
->		remake removeUserFromChannels to single channel
		

-> figure out where to ignore
-> fix timestring (one hour off)
-> fix on close, so msg to clients is sent

commands do not work in /msg window
	can't do /me there
	combine certain commands?
		or /care >.<

DONE
	/me now handles status window (error msg sent)
	/nick now prints correct to user
		updates userlists
	